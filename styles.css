* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* 旋转动画 - 用于加载图标 */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.icon-spin {
    display: inline-block;
    animation: spin 1s linear infinite;
}

/* 图标样式 */
.icon {
    display: inline-block;
    font-style: normal;
    font-weight: normal;
}

/* CSS变量 - 统一管理卡片关键尺寸 */
:root {
    --card-height: 420px;
    --card-border-radius: 16px;
    --card-padding-default: 10px;
    --card-padding-learning: 3px;
    --overlay-height-ratio: 0.18337; /* 1/6 * 1.1 = 增加10% */
    --overlay-lift-amount: 15px; /* 上移固定尺寸15px */
    --button-size: 45px;
    --button-offset-top: -22.5px; /* 按钮一半在容器外 */
    --top-bar-height: 70px; /* 固定栏高度 */
    --body-padding-top: calc(var(--top-bar-height) + 15px); /* 为固定栏留出空间 */
}

html {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e7eb 100%);
    padding: 15px;
    padding-top: var(--body-padding-top); /* 使用CSS变量，继承关系 */
    min-height: 100vh;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
}

/* 固定悬浮栏 - 品牌感设计 */
.fixed-top-bar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--top-bar-height); /* 使用CSS变量 */
    background: linear-gradient(135deg, #3498db 0%, #2980b9 50%, #2c3e50 100%);
    border-bottom: 3px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 25px;
    gap: 25px;
    backdrop-filter: blur(10px);
}

.top-bar-left {
    display: flex;
    align-items: center;
    gap: 20px;
    flex-shrink: 0;
}

.top-bar-bottom-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    flex: 1;
}

.top-bar-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: #ffffff;
    white-space: nowrap;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    letter-spacing: 0.5px;
}

.top-bar-mode-buttons {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
    margin-left: 15px;
}

.top-bar-mode-btn {
    padding: 8px 18px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 6px;
    white-space: nowrap;
    backdrop-filter: blur(5px);
}

.top-bar-mode-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-1px);
}

.top-bar-mode-btn.active {
    background: linear-gradient(135deg, #ffffff, #f5f5f5);
    color: #2c3e50;
    border-color: #ffffff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.top-bar-center {
    display: flex;
    align-items: center;
    flex: 1;
    justify-content: center;
    gap: 15px;
}

.current-theme-display {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 8px;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    width: auto;
}

.current-theme-label {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 500;
}

.current-theme-name {
    font-size: 0.95rem;
    color: #ffffff;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.top-bar-right {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-shrink: 0;
}

.top-bar-progress {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
}

.progress-stat {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.8rem;
    color: #ffffff;
}

.progress-stat-label {
    color: rgba(255, 255, 255, 0.8);
}

.progress-stat-value {
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(5px);
    min-width: 28px;
    text-align: center;
}

.progress-stat.completed .progress-stat-value {
    background: rgba(39, 174, 96, 0.7);
    color: #ffffff;
    border: 1px solid rgba(39, 174, 96, 0.8);
}

.progress-stat.learning .progress-stat-value {
    background: rgba(52, 152, 219, 0.7);
    color: #ffffff;
    border: 1px solid rgba(52, 152, 219, 0.8);
}

.progress-stat.locked .progress-stat-value {
    background: rgba(255, 255, 255, 0.4);
    color: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.5);
}

@media (max-width: 768px) {
    /* 移动端顶部栏高度优化 - 2行布局 */
    :root {
        --top-bar-height: 80px; /* 调整为2行布局高度 */
        --card-height: 300px; /* 减少卡片高度，确保两张卡片能在一屏显示 */
    }

    body.test-mode {
        --card-height: 360px; /* 测试模式单卡显示，留出更大高度 */
    }
    
    .fixed-top-bar {
        flex-direction: column;
        flex-wrap: nowrap;
        height: auto;
        min-height: var(--top-bar-height);
        padding: 6px 10px; /* 减少padding */
        gap: 6px; /* 减少gap */
    }

    .top-bar-bottom-row {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 6px;
        flex-wrap: wrap;
        row-gap: 6px;
    }
    
    /* 第一行：标题和模式按钮 */
    .top-bar-left {
        width: 100%;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0;
        flex-shrink: 0;
    }
    
    .top-bar-title {
        font-size: 0.9rem; /* 稍微减小字体 */
    }
    
    .top-bar-mode-buttons {
        margin-left: 0;
    }
    
    /* 第二行：当前学习主题和统计信息 */
    .top-bar-center {
        width: auto;
        justify-content: flex-start;
        flex: 0 0 auto;
        order: 2;
        min-width: 0;
    }
    
    .top-bar-right {
        width: auto;
        justify-content: flex-end;
        flex: 1 1 auto;
        order: 2;
        min-width: 0;
    }
    
    .top-bar-progress {
        flex-wrap: nowrap;
        gap: 8px; /* 增加gap以便更好显示 */
        font-size: 0.75rem; /* 减小字体 */
        justify-content: flex-end;
    }

    .top-bar-progress .progress-stat.learning {
        display: none;
    }
    
    .current-theme-display {
        padding: 4px 12px; /* 减少padding */
        font-size: 0.8rem; /* 稍微减小字体 */
        width: auto;
        flex: 0 0 auto;
        min-width: 0;
        max-width: 100%;
        white-space: nowrap;
    }
    
    body.test-mode .fixed-top-bar,
    body.test-mode .top-bar-left {
        width: 100%;
    }
    
    body.test-mode .top-bar-bottom-row {
        width: 100%;
        flex-wrap: nowrap;
        align-items: center;
    }
    
    body.test-mode .top-bar-center {
        width: auto;
        flex: 0 1 auto;
        min-width: 0;
    }
    
    body.test-mode .top-bar-right {
        width: auto;
        flex: 1 1 auto;
        min-width: 0;
    }

    .learning-card-back .card-hint {
        display: none;
    }

    body.test-mode .test-card {
        min-height: var(--card-height);
    }

    .test-feedback {
        gap: 8px;
    }

    .test-feedback .chinese-section {
        flex: 0 0 auto;
        padding: 12px;
    }

    .test-feedback .chinese-meaning {
        font-size: 1.6rem;
    }

    .test-feedback .image-section {
        flex: 1 1 auto;
        min-height: 180px;
    }
    
    .current-theme-label {
        font-size: 0.75rem;
    }
    
    .current-theme-name {
        font-size: 0.85rem;
    }
    
    body {
        padding: 8px; /* 减少padding */
        padding-top: calc(var(--top-bar-height) + 12px); /* 增加padding-top防止图片被遮盖 */
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    .cards-container {
        gap: 10px; /* 减少卡片间距 */
        margin-top: 4px; /* 减少margin-top */
        padding-bottom: 10px; /* 减少padding-bottom */
        width: 100%;
        max-width: 100%;
    }
    
    .footer {
        width: 100%;
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
        border-radius: 0;
    }
    
    body.test-mode .cards-container {
        gap: 6px; /* 测试模式进一步减少间距 */
        margin-top: 2px;
        width: 100%;
        max-width: 100%;
    }
    
    /* 移动端测试模式标题行优化 */
    body.test-mode .test-title-row {
        flex-wrap: wrap;
        gap: 6px; /* 减少gap */
        margin-bottom: 4px; /* 减少margin */
        justify-content: flex-start;
    }
    
    body.test-mode .card-title-hint {
        margin-left: 0;
        font-size: 0.8rem; /* 再减小20%字号 */
        font-weight: 500;
        color: #2c3e50;
    }
    
    body.test-mode .card-external-title {
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 6px; /* 减少gap */
        font-size: 0.75rem; /* 减小字体 */
    }
    
    body.test-mode .card-title-indicators {
        font-size: 0.6rem; /* 再减小20%字号 */
    }

    .learning-card-front .meaning-display,
    .learning-card-back .meaning-display {
        bottom: -6px; /* 略微下移中文释义 */
    }
}

@media (max-width: 480px) {
    /* 小屏幕进一步优化 - 确保两张卡片在一屏显示 */
    :root {
        --top-bar-height: 75px; /* 2行布局高度 */
        --card-height: 280px; /* 进一步减少卡片高度 */
    }

    body.test-mode {
        --card-height: 400px; /* 测试模式单题展示，保证题干完整 */
    }
/*
推送当前目录所有文件到GitHub仓库的操作命令如下：

git init
git remote add origin https://github.com/ZYDeutsch-Chen/Vokabeln-A1-04.git
git add .
git commit -m "推送当前目录所有文件"
git push -u origin master
*/
    
    .fixed-top-bar {
        padding: 5px 8px; /* 进一步减少padding */
        gap: 5px; /* 进一步减少gap */
    }
    
    .top-bar-title {
        font-size: 0.85rem; /* 进一步减小字体 */
    }
    
    .top-bar-left {
        gap: 10px;
    }
    
    .top-bar-mode-buttons {
        gap: 4px;
        flex: 0 1 auto;
        justify-content: flex-end;
        min-width: 0;
    }
    
    .top-bar-mode-btn {
        padding: 5px 10px; /* 进一步减少按钮padding */
        font-size: 0.78rem; /* 再次减小按钮字体 */
        min-width: auto;
    }
    
    .top-bar-mode-btn .icon {
        font-size: 0.85rem;
    }
    
    .top-bar-progress {
        font-size: 0.7rem; /* 进一步减小字体 */
        gap: 6px; /* 小屏幕减少gap */
    }
    
    .current-theme-display {
        padding: 3px 10px; /* 进一步减少padding */
        flex: 0 0 auto;
        max-width: 100%;
    }
    
    .current-theme-label {
        font-size: 0.7rem;
    }
    
    .current-theme-name {
        font-size: 0.8rem;
    }
    
    body {
        padding: 6px; /* 进一步减少padding */
        padding-top: calc(var(--top-bar-height) + 10px); /* 增加padding-top防止图片被遮盖 */
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    .cards-container {
        gap: 8px; /* 进一步减少卡片间距 */
        margin-top: 2px; /* 进一步减少margin-top */
        padding-bottom: 8px; /* 进一步减少padding-bottom */
        width: 100%;
        max-width: 100%;
    }
    
    .footer {
        width: 100%;
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
        border-radius: 0;
    }
    
    body.test-mode .cards-container {
        gap: 4px; /* 测试模式进一步减少间距 */
        margin-top: 0;
        width: 100%;
        max-width: 100%;
    }

    body.test-mode .test-title-row {
        gap: 4px;
    }

    body.test-mode .test-title-row .test-instruction,
    body.test-mode .card-title-hint {
        font-size: 0.68rem; /* 在小屏再减小，约为原来的80% */
        white-space: normal;
        overflow-wrap: anywhere;
    }
    
    /* 移动端学习模式文字大小优化 */
    .learning-card-front .meaning-display {
        font-size: 1.4rem; /* 稍微减小字体 */
        padding: 8px; /* 减少padding */
    }
    
    .learning-card-back .noun-display {
        font-size: 2rem; /* 略微减小字体，确保单行显示 */
        display: inline-flex;
        align-items: baseline;
        gap: 6px;
        white-space: nowrap;
        letter-spacing: 0.5px;
    }
    
    .learning-card-back .meaning-display {
        font-size: 1.4rem; /* 稍微减小字体 */
        padding: 8px; /* 减少padding */
        padding-bottom: 40px; /* 为card-hint留出空间 */
    }

    .learning-card-front .meaning-display,
    .learning-card-back .meaning-display {
        bottom: -8px; /* 小屏设备进一步下移中文释义 */
    }

    .learning-card-back .card-back-content {
        gap: 8px;
    }

    .test-feedback .chinese-section {
        padding: 10px;
    }

    .test-feedback .chinese-meaning {
        font-size: 1.4rem;
    }

    .test-feedback .image-section {
        min-height: 150px;
    }
    
    /* 移动端背面card-hint位置调整 */
    .learning-card-back .card-hint {
        bottom: 45px; /* 移动端调整位置 */
        font-size: 0.8rem; /* 稍微减小字体 */
    }
    
    /* 移动端按钮优化 */
    .speak-btn {
        min-width: 45px; /* 稍微减小按钮 */
        min-height: 45px;
        font-size: 1.1rem;
    }
    
    /* 移动端测试选项按钮优化 */
    .test-option {
        min-height: 45px; /* 稍微减小按钮 */
        padding: 10px 12px; /* 减少padding */
        font-size: 0.95rem; /* 稍微减小字体 */
    }
}

.header {
    display: none; /* 隐藏原来的header */
}

/* 卡片容器 */
.cards-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    margin-top: 10px;
    padding-bottom: 30px;
    max-width: 100%;
    width: 100%;
    margin-left: auto;
    margin-right: auto;
}

/* 测试模式下，卡片容器居中，单列显示 */
body.test-mode .cards-container {
    grid-template-columns: 1fr;
    max-width: 600px; /* 固定宽度，便于计算进度条位置 */
    margin-left: auto;
    margin-right: auto;
    padding-right: 0;
    gap: 10px;
    margin-top: 5px;
}

@media (min-width: 768px) {
    .cards-container {
        grid-template-columns: repeat(2, 1fr);
        max-width: 90%;
    }
}

@media (max-width: 768px) {
    body.test-mode .cards-container {
        max-width: 100%;
        width: 100%;
        margin-left: 0;
        margin-right: 0;
    }
}

@media (max-width: 768px) {
    .cards-container {
        justify-items: center;
        padding-left: 12px;
        padding-right: 12px;
    }
    
    .cards-container .card-wrapper {
        width: 100%;
    }
    
    .cards-container .card {
        max-width: 440px;
        width: min(100%, 440px);
        margin: 0 auto;
    }
    
    .learning-card-front .noun-image-container {
        min-height: 210px;
    }
    
    body.test-mode .cards-container {
        gap: 4px;
        margin-top: 0;
        padding-bottom: 4px;
    }
    
    body.test-mode .card-wrapper {
        margin-top: 4px;
    }
    
    body.test-mode .test-title-row {
        margin-bottom: 2px;
        padding: 0 4px;
    }
    
    body.test-mode .test-card .card-front,
    body.test-mode .test-card .card-back {
        padding: 12px 14px;
    }
    
    body.test-mode .test-card .card-front-content {
        padding-bottom: 6px;
    }
    
    body.test-mode .test-question {
        margin-bottom: 8px;
    }
    
    body.test-mode .test-card .test-options {
        gap: 6px;
    }
    
    body.test-mode .test-card .test-feedback {
        padding: 12px 14px 14px 14px;
        gap: 8px;
    }
    
    body.test-mode .test-card .test-feedback .chinese-section,
    body.test-mode .test-card .test-feedback .image-section {
        padding: 0 6px;
    }
}

/* 测试提示文字 */
.test-instruction {
    text-align: center;
    font-size: 1.1rem;
    color: #2c3e50;
    margin-bottom: 15px;
    font-weight: 500;
    display: none;
}

body.test-mode .test-instruction {
    display: block;
}

/* 测试模式下，将提示文字和外部标题放在同一行 */
body.test-mode .test-instruction {
    display: inline-block;
    margin-right: 0;
    margin-bottom: 0;
    vertical-align: middle;
}

body.test-mode .card-wrapper {
    margin-top: 8px;
}

/* 测试模式下，外部标题从卡片包装器中提取出来，和提示文字在同一行 */
body.test-mode .test-title-row {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 20px;
    margin-bottom: 7.2px; /* 8px * 0.9 */
    width: 100%;
}

body.test-mode .test-title-row .test-instruction {
    display: inline-block;
    margin: 0;
}

body.test-mode .card-external-title {
    display: inline-flex;
    vertical-align: middle;
    margin-bottom: 0;
}

body.test-mode .card-wrapper .card-external-title {
    display: none; /* 隐藏卡片包装器内的外部标题 */
}

/* 隐藏原来的测试提示文字（因为已经移到标题行中） */
body.test-mode #test-instruction {
    display: none;
}

/* 卡片包装器 */
.card-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* 卡片外部标题 */
.card-external-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9rem;
    color: #7f8c8d;
    font-weight: 500;
    padding: 5px 0;
    user-select: none;
}

.card-title-indicators {
    display: flex;
    align-items: center;
}

.card-title-front,
.card-title-back {
    transition: color 0.3s ease;
    cursor: default;
}

.card-title-front.active,
.card-title-back.active {
    color: #3498db;
    font-weight: 600;
}

.card-title-separator {
    margin: 0 8px;
    color: #bdc3c7;
}

.card-title-hint {
    font-size: 0.85rem;
    color: #95a5a6;
    font-weight: 400;
}

/* 测试模式下，增加题目和答案标识与标题文字之间的间距 */
body.test-mode .card-title-hint {
    margin-left: 30px;
}

/* 测试模式下，标题文字字号增加，保持在同一行居中 */
body.test-mode .card-external-title {
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 15px;
    font-size: 0.81rem; /* 0.9rem * 0.9 */
}

body.test-mode .card-title-hint {
    margin-left: 0;
    font-size: 1.35rem; /* 1.5rem * 0.9 */
    font-weight: 500;
    color: #2c3e50;
}

body.test-mode .card-title-indicators {
    font-size: 0.9rem; /* 1rem * 0.9 */
}

/* 移动端下重新约束测试模式标题字号（放在基础规则之后以确保覆盖） */
@media (max-width: 768px) {
    body.test-mode .test-title-row {
        flex-wrap: nowrap;
        gap: 8px;
    }
    
    body.test-mode .card-external-title {
        font-size: clamp(0.62rem, 2.6vw, 0.72rem);
        gap: 6px;
    }
    
    body.test-mode .card-title-indicators {
        font-size: clamp(0.58rem, 2.2vw, 0.68rem);
    }
    
    body.test-mode .card-title-hint,
    body.test-mode .test-title-row .test-instruction {
        font-size: clamp(0.69rem, 3.2vw, 0.81rem);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

@media (max-width: 480px) {
    body.test-mode .test-title-row {
        gap: 4px;
    }
    
    body.test-mode .card-external-title {
        font-size: clamp(0.58rem, 3vw, 0.66rem);
        gap: 4px;
    }
    
    body.test-mode .card-title-indicators {
        font-size: clamp(0.54rem, 2.8vw, 0.62rem);
    }
    
    body.test-mode .card-title-hint,
    body.test-mode .test-title-row .test-instruction {
        font-size: clamp(0.64rem, 3.9vw, 0.74rem);
    }
}

.card {
    position: relative;
    height: var(--card-height);
    perspective: 1000px;
    cursor: pointer;
    width: 100%;
    max-width: 100%;
}

.carryover-badge {
    position: absolute;
    top: 10px;
    left: 12px;
    background: rgba(255, 193, 7, 0.92);
    color: #2c3e50;
    font-size: 0.75rem;
    padding: 3px 10px;
    border-radius: 999px;
    font-weight: 600;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    z-index: 20;
    letter-spacing: 1px;
}

.card-back .carryover-badge {
    background: rgba(255, 255, 255, 0.2);
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.4);
}

.carryover-badge.small {
    position: relative;
    top: auto;
    left: auto;
    background: rgba(255, 193, 7, 0.2);
    color: #c47a00;
    font-size: 0.68rem;
    padding: 2px 8px;
    border: 1px solid rgba(255, 193, 7, 0.6);
    box-shadow: none;
}

.carryover-card .card-face {
    border: 2px dashed rgba(255, 193, 7, 0.5);
}

.card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    border-radius: var(--card-border-radius);
}

.card.flipped .card-inner {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: var(--card-border-radius);
    padding: var(--card-padding-default);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    overflow: hidden;
}

.card-front {
    background: linear-gradient(145deg, #ffffff, #f8f9fa);
    border: 1px solid #e0e0e0;
    overflow: visible; /* 允许按钮超出底层容器显示 */
}

.card-back {
    background: linear-gradient(145deg, #2c3e50, #34495e);
    color: white;
    transform: rotateY(180deg);
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: visible; /* 允许按钮超出底层容器显示 */
}

/* 学习模式下背面也使用相同的padding，确保定位一致 */
.card-face.learning-card-back {
    padding: var(--card-padding-learning) !important;
}


/* 名词头部 - 学习模式下已移除，保留样式以防其他地方使用 */
.noun-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 4px;
}

/* 学习模式下隐藏noun-header */
.learning-card-front .noun-header {
    display: none;
}

.noun-name {
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    flex: 1;
}

/* 图片容器 */
.noun-image-container {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    background: rgba(236, 240, 241, 0.5);
    border-radius: 12px;
    margin: 4px 0;
    min-height: 250px;
    overflow: visible; /* 改为 visible，让按钮可以超出容器 */
    position: relative;
}

/* 学习模式下压缩图片容器高度 */
.learning-card-front .noun-image-container {
    margin: 0 calc(-1 * var(--card-padding-learning)); /* 左右负margin抵消卡片padding，让背景与卡片边缘对齐 */
    padding: 0; /* 消除padding，消除白色边框 */
    min-height: 240px; /* 从180px增大到240px，优化显示空间 */
    border-radius: calc(var(--card-border-radius) - var(--card-padding-learning)); /* 圆角减去padding */
    background: none;
    position: relative; /* 确保定位上下文 */
    overflow: visible; /* 保持visible，让按钮可以超出容器 */
}

/* 学习模式下图片下移5px */
.learning-card-front .noun-image-container img {
    position: relative;
    top: -5px; /* 图片下移5px（从-10px改为-5px） */
    margin-bottom: -5px; /* 抵消下移造成的底部空白 */
}

/* 禁止图片被长按保存或拖拽 */
.noun-image-container,
.noun-image,
.test-card .noun-image {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
}

.noun-image {
    -webkit-user-drag: none;
}

/* 懒加载图片样式 */
.noun-image.lazy-image {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

/* 图片加载完成后移除加载动画 */
.noun-image.lazy-image[src] {
    animation: none;
    background: none;
}

/* 学习模式下减小卡片正面的padding，并设置浅灰背景+50%透明度 */
.card-face.learning-card-front {
    padding: var(--card-padding-learning) !important;
    background: rgba(236, 240, 241, 0.5) !important; /* 浅灰颜色+50%透明度 */
}

/* 图片遮挡层 - 遮挡图片下方的1/6区域，上移10px后下边缘对齐卡片下边缘 */
.card-front .image-overlay {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0; /* 对齐卡片下边缘 */
    /* 高度 = 卡片内容区域高度的1/6 * 1.1 (增加10%) */
    height: calc((100% - var(--card-padding-learning) * 2) * var(--overlay-height-ratio));
    /* 不再上移，直接对齐卡片下边缘 */
    transform: none;
    background: linear-gradient(145deg, #ffffff, #f8f9fa);
    border-radius: 0 0 calc(var(--card-border-radius) - var(--card-padding-learning)) calc(var(--card-border-radius) - var(--card-padding-learning));
    z-index: 5; /* 确保在图片上方 */
    pointer-events: none; /* 不阻挡点击事件 */
}

/* 朗读按钮 - 位于右上角，一半压住图片边缘，一半压住底层容器边缘 */
.speak-btn {
    position: absolute;
    top: var(--button-offset-top); /* 一半在容器内，一半在容器外（向上超出） */
    right: calc(var(--button-size) * 1.5 + 20px); /* 向左移动1.5倍按钮宽度 + 20px边距 */
    background: #3498db;
    color: white;
    border: none;
    border-radius: 50%;
    width: var(--button-size);
    height: var(--button-size);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    cursor: pointer;
    z-index: 10; /* 确保按钮在图片上方 */
}

/* 确保背面不显示发音按钮 */
.card-back .speak-btn {
    display: none !important;
}

/* 确保发音按钮只在正面显示，翻转时完全隐藏 */
.card.flipped .card-front .speak-btn {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* 确保按钮跟随正面一起翻转隐藏 */
.card-front .speak-btn {
    backface-visibility: hidden;
}

.speak-btn:hover {
    background: #2980b9;
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0,0,0,0.4);
}

.noun-image {
    /* 桌面端：更大尺寸 */
    max-width: 102%;
    max-height: 102%;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: transform 0.3s ease;
}

.noun-image:hover {
    transform: scale(1.02);
}

/* 平板端 */
@media (max-width: 1024px) {
    .noun-image {
        max-width: 102%;
        max-height: 102%;
    }
}

/* 移动端 */
@media (max-width: 768px) {
    .noun-image {
        max-width: 102%;
        max-height: 102%;
    }
}

/* 小屏幕手机 */
@media (max-width: 480px) {
    .noun-image {
        max-width: 102%;
        max-height: 102%;
    }
}

/* 图片加载状态 */
.image-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #7f8c8d;
    font-size: 0.9rem;
}

.image-error {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #e74c3c;
    font-size: 0.9rem;
    text-align: center;
}

/* 图片加载失败时的错误提示文字 */
.image-error-text {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    white-space: nowrap;
    z-index: 10;
    pointer-events: none;
}

/* 卡片背面样式 */
.card-back {
    position: relative;
}

.gender-badge {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    margin-bottom: 15px;
}

.gender-badge.masculine {
    background: linear-gradient(145deg, #60a5fa, #3b82f6);
}

.gender-badge.neuter {
    background: linear-gradient(145deg, #4ade80, #22c55e);
}

.gender-badge.feminine {
    background: linear-gradient(145deg, #f9a8d4, #f472b6);
}

.gender-badge.plural {
    background: linear-gradient(145deg, #ffffff, #f8f9fa); /* 与正面容器颜色一致 */
    color: #2c3e50; /* 深色文字，在浅色背景上更清晰 */
    border: 1px solid #e0e0e0;
}

.meaning {
    font-size: 2rem;
    text-align: center;
    margin-bottom: 20px;
    color: #ecf0f1;
    font-weight: 600;
    padding: 20px;
}

.card-back-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 20px;
}

.card-hint {
    text-align: center;
    font-size: 0.9rem;
    color: #bdc3c7;
    font-style: italic;
    margin-top: 20px;
    position: relative;
    z-index: 102; /* 确保在中文名称上方 */
}

/* 学习模式背面：调整card-hint位置，避免与中文名称重叠 */
.learning-card-back .card-hint {
    position: absolute;
    bottom: 100px; /* 桌面端放在词性与中文释义之间 */
    left: 0;
    right: 0;
    margin-top: 0;
    padding: 0 12px;
}

/* 类别标题 - 已移除 */

/* 底部信息 */
.footer {
    text-align: center;
    padding: 20px 0;
    color: #7f8c8d;
    font-size: 0.9rem;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    margin-top: 20px;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* 加载状态 */
.loader {
    text-align: center;
    padding: 30px;
    font-size: 1.2rem;
    color: #7f8c8d;
}

/* 初始设置弹窗样式 */
.modal {
    display: none; /* 默认隐藏，避免闪烁 */
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    align-items: center;
    justify-content: center;
}

.modal.show {
    display: flex; /* 通过类控制显示 */
}

.modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 16px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
}

.modal-content h2 {
    color: #2c3e50;
    margin-bottom: 15px;
    text-align: center;
}

.modal-content p {
    color: #7f8c8d;
    margin-bottom: 20px;
    text-align: center;
}

.setup-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.setup-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.setup-group label {
    font-weight: 600;
    color: #2c3e50;
}

.radio-group {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.radio-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    padding: 8px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.radio-label:hover {
    border-color: #3498db;
    background-color: #f0f8ff;
}

.radio-label input[type="radio"] {
    cursor: pointer;
}

.radio-label input[type="radio"]:checked + span {
    color: #3498db;
    font-weight: 600;
}

.radio-label:has(input[type="radio"]:checked) {
    border-color: #3498db;
    background-color: #e3f2fd;
}

.btn-primary, .btn-secondary {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
}

.btn-secondary {
    background: #ecf0f1;
    color: #2c3e50;
}

.btn-secondary:hover {
    background: #d5dbdb;
}

.modal-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
}

.unlock-content {
    text-align: center;
}

/* 模式切换器 - 已移到固定栏 */
.mode-switcher {
    display: none; /* 隐藏原来的模式切换器 */
}

/* 主题导航 - 已移到固定栏 */
.theme-navigation {
    display: none; /* 隐藏原来的主题导航 */
}

.theme-item {
    padding: 15px;
    background: white;
    border-radius: 12px;
    border: 2px solid #e0e0e0;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.theme-item:hover {
    border-color: #3498db;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.theme-item.locked {
    opacity: 0.5;
    cursor: not-allowed;
}

.theme-item.completed {
    border-color: #27ae60;
}

.theme-item.learning {
    border-color: #3498db;
    background: #e3f2fd;
}

.theme-name {
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 8px;
}

.theme-status {
    font-size: 0.85rem;
    color: #7f8c8d;
}

.theme-status-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    margin-top: 5px;
}

.status-locked {
    background: #ecf0f1;
    color: #7f8c8d;
}

.status-learning {
    background: #e3f2fd;
    color: #3498db;
}

.status-completed {
    background: #d5f4e6;
    color: #27ae60;
}

/* 测试进度 - 侧边竖向窄条，贴合卡片右侧 */
.test-progress {
    position: fixed;
    width: 28px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    padding: 10px 6px; /* 减小左右padding，增加进度条宽度 */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    z-index: 100;
    backdrop-filter: blur(10px);
    /* 位置和高度由JavaScript动态计算 */
}

.progress-info {
    display: none; /* 隐藏语义文字 */
}

.progress-bar {
    flex: 1;
    width: 14px; /* 加宽进度条 */
    background: #ecf0f1;
    border-radius: 7px;
    overflow: hidden;
    position: relative;
    margin: 8px 0;
}

.progress-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(180deg, #3498db, #2980b9);
    transition: height 0.3s ease;
    height: 0%;
    border-radius: 7px;
}

.progress-label {
    font-size: 0.7rem;
    font-weight: 700;
    color: #2c3e50;
    writing-mode: vertical-rl;
    text-orientation: mixed;
    margin-top: 8px;
}

@media (max-width: 768px) {
    .test-progress {
        width: 20px; /* 稍微减小宽度 */
        padding: 6px 3px; /* 减少padding */
    }
    
    .progress-bar {
        width: 10px; /* 稍微减小宽度 */
    }
    
    .progress-label {
        font-size: 0.55rem; /* 稍微减小字体 */
    }
    
    /* 移动端测试卡片内部的进度条样式 */
    .test-card .card-progress {
        width: 20px; /* 稍微减小宽度 */
        padding: 6px 3px; /* 减少padding */
    }
    
    .test-card .card-progress .progress-bar {
        width: 10px; /* 稍微减小宽度 */
    }
    
    .test-card .card-progress .progress-label {
        font-size: 0.55rem; /* 稍微减小字体 */
        margin-bottom: 4px; /* 减少margin */
    }
    
    .test-title {
        font-size: 0.76rem; /* 再减小标题字体（-20%） */
        margin-bottom: 10px; /* 减少margin */
    }
}

@media (max-width: 480px) {
    .test-progress {
        width: 18px; /* 进一步减小宽度 */
        padding: 5px 2px; /* 进一步减少padding */
    }
    
    .progress-bar {
        width: 9px; /* 进一步减小宽度 */
    }
    
    .progress-label {
        font-size: 0.5rem; /* 进一步减小字体 */
    }
    
    /* 移动端测试卡片内部的进度条样式 */
    .test-card .card-progress {
        width: 18px; /* 进一步减小宽度 */
        padding: 5px 2px; /* 进一步减少padding */
    }
    
    .test-card .card-progress .progress-bar {
        width: 9px; /* 进一步减小宽度 */
    }
    
    .test-card .card-progress .progress-label {
        font-size: 0.5rem; /* 进一步减小字体 */
        margin-bottom: 3px; /* 进一步减少margin */
    }
    
    .test-title {
        font-size: 0.68rem; /* 在768px基础上继续减小（-20%） */
        margin-bottom: 8px; /* 进一步减少margin */
    }
}

/* 测试模式卡片样式 */
.test-card {
    height: var(--card-height); /* 使用与学习卡片相同的高度 */
    perspective: 1000px;
    cursor: pointer;
    width: 100%;
    position: relative;
    overflow: visible; /* 允许内容显示，不被剪切 */
}

.test-card .card-inner {
    height: 100%;
    overflow: visible; /* 确保内容不被剪切 */
}

/* 测试卡片正面和背面布局 - 使用flex让内容和进度条并排 */
.test-card .card-front,
.test-card .card-back {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    overflow: visible; /* 改为visible，防止内容被剪切 */
    min-height: 100%; /* 确保至少占满卡片高度 */
}

/* 卡片内容区域 - 占据主要空间 */
.test-card .card-front-content,
.test-card .card-back-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto; /* 允许垂直滚动，防止内容被剪切 */
    overflow-x: hidden;
    min-height: 0; /* 允许flex子元素缩小 */
}

/* 测试卡片内部的进度条 - 植入卡片内部 */
.test-card .card-progress {
    width: 28px;
    background: #f8f9fa; /* 和卡片背景一致的浅灰色 */
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding: 10px 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}

.test-card .card-progress .progress-info {
    display: none;
}

/* 调整元素顺序：数字在上，进度条在下 */
.test-card .card-progress .progress-label {
    order: -1; /* 放在最上面 */
    font-size: 0.7rem;
    font-weight: 700;
    color: #2c3e50;
    writing-mode: vertical-rl;
    text-orientation: mixed;
    margin-bottom: 8px;
}

.test-card .card-progress .progress-bar {
    order: 0; /* 放在数字下面 */
    flex: 1;
    width: 14px;
    background: white; /* 进度未达到部分为白色 */
    border-radius: 7px;
    overflow: hidden;
    position: relative;
    margin: 0;
}

.test-card .card-progress .progress-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(180deg, #3498db, #2980b9); /* 已完成部分为蓝色渐变 */
    transition: height 0.3s ease;
    height: 0%;
    border-radius: 7px;
}

/* 测试卡片正面布局优化 */
.test-card .card-front {
    padding: 18px 0 18px 24px;
}

.test-card .card-front-content {
    padding-right: 12px;
    gap: 10px;
}

/* 测试卡片背面布局优化 */
.test-card .card-back {
    padding: 18px 24px;
}

.test-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 14px;
    padding: 0;
    padding-bottom: 8px; /* 增加底部padding，防止最后一个选项被剪切 */
    flex: 1;
    overflow-y: auto; /* 如果选项太多，允许滚动 */
    min-height: 0; /* 允许flex子元素缩小 */
}

.test-option {
    padding: 12px 18px;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.15rem;
    font-weight: 500;
    text-align: left;
    flex-shrink: 0; /* 防止选项被压缩 */
}

/* 移动端测试卡片布局优化 */
@media (max-width: 768px) {
    .test-card .card-front {
        padding: 12px 0 10px 16px; /* 减少padding并压缩底部留白 */
    }
    
    .test-card .card-front-content {
        padding-right: 9px; /* 减少padding */
        gap: 8px;
    }
    
    .test-options {
        gap: 12px; /* 增大选项间距 */
        margin-top: 12px;
        padding-bottom: 2px;
        flex: 0 0 auto; /* 允许根据内容高度自适应，避免底部空白 */
        overflow: visible;
    }
    
    .test-option {
        padding: 10px 14px; /* 减少padding */
        font-size: 1rem; /* 稍微减小字体 */
    }
    
    .test-question {
        font-size: 1.6rem; /* 减小问题字体 */
        margin-bottom: 12px; /* 减少margin */
    }
}

@media (max-width: 480px) {
    .test-card .card-front {
        padding: 8px 0 6px 12px; /* 进一步减少padding并压缩底部留白 */
    }
    
    .test-card .card-front-content {
        padding-right: 6px; /* 进一步减少padding */
        gap: 7px;
    }
    
    .test-options {
        gap: 10px; /* 保持更舒适的选项间距 */
        margin-top: 10px;
        padding-bottom: 0;
    }
    
    .test-option {
        padding: 8px 12px; /* 进一步减少padding */
        font-size: 0.95rem; /* 进一步减小字体 */
        min-height: 42px; /* 稍微减小最小高度 */
    }
    
    .test-question {
        font-size: 1.5rem; /* 进一步减小问题字体 */
        margin-bottom: 10px; /* 进一步减少margin */
    }
}

.test-option:hover {
    border-color: #3498db;
    background: #e3f2fd;
}

.test-option.selected {
    border-color: #3498db;
    background: #e3f2fd;
}

.test-option.correct {
    border-color: #27ae60;
    background: #d5f4e6;
}

.test-option.incorrect {
    border-color: #e74c3c;
    background: #fadbd8;
}

.test-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #34495e;
    text-align: center;
    margin-bottom: 15px;
    padding: 0;
    margin-top: 0;
    flex-shrink: 0;
}

/* 移动端测试标题优化 */
@media (max-width: 768px) {
    .test-title {
        font-size: 0.95rem;
        margin-bottom: 10px;
    }
}

@media (max-width: 480px) {
    .test-title {
        font-size: 0.85rem;
        margin-bottom: 8px;
    }
}

.test-question {
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
    text-align: center;
    margin-bottom: 14px;
    padding: 0;
    margin-top: 0;
    flex-shrink: 0; /* 防止题目被压缩 */
}

.test-feedback {
    padding: 18px 24px 20px 24px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    height: 100%;
    overflow: hidden;
    box-sizing: border-box;
    position: relative;
    gap: 12px;
}

/* 上方中文显示区域 */
.test-feedback .chinese-section {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 10px 4px 10px;
    box-sizing: border-box;
    min-height: 0;
}

.test-feedback .chinese-meaning {
    font-size: 2rem;
    font-weight: 700;
    color: white;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

/* 下方图片区域 - 占据卡片高度的60%，底部对齐 */
.test-feedback .image-section {
    flex: 1 1 auto;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    min-width: 0;
    padding: 0 10px 10px 10px;
    box-sizing: border-box;
    position: relative;
    overflow: hidden;
}

.test-feedback .noun-image {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    object-position: bottom;
    display: block;
}

/* 右侧信息区域 - 已移除，信息显示在图片上方 */
.test-feedback .info-section {
    display: none;
}

.feedback-icon {
    font-size: 3.5rem;
    margin-bottom: 12px;
    flex-shrink: 0;
}

.feedback-icon.correct {
    color: #27ae60;
}

.feedback-icon.incorrect {
    color: #e74c3c;
}

.feedback-text {
    font-size: 1.4rem;
    font-weight: 600;
    margin-bottom: 16px;
    flex-shrink: 0;
    color: #2c3e50;
}

/* 德语单词显示 */
.test-feedback .noun-word {
    font-size: 2.2rem;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 12px;
    flex-shrink: 0;
    text-align: center;
}

/* 测试卡片背面的内容布局 */
.test-feedback .meaning {
    font-size: 2rem;
    font-weight: 700;
    color: #e74c3c;
    margin-bottom: 16px;
    flex-shrink: 0;
    text-align: center;
    padding: 12px 20px;
    background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
    border-radius: 10px;
    border: 2px solid #ffcccc;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.15);
}

.test-feedback .gender-badge {
    margin-bottom: 16px;
    flex-shrink: 0;
}

.test-feedback .card-hint {
    margin-top: auto;
    font-size: 0.95rem;
    color: #7f8c8d;
    flex-shrink: 0;
    text-align: center;
    padding: 8px 16px;
    background: rgba(127, 140, 141, 0.1);
    border-radius: 6px;
}

/* 响应式调整 */
@media (max-width: 768px) {
    .test-feedback {
        flex-direction: column;
        gap: 15px;
    }
    
    .test-feedback .image-section {
        flex: 0 0 200px;
    }
    
    .test-feedback .info-section {
        flex: 1;
    }
}

/* 学习模式卡片正面显示中文 - 位于遮挡层上，左右居中，与遮挡层同步下移对齐卡片下边缘 */
.learning-card-front .meaning-display {
    position: absolute;
    bottom: 0; /* 对齐卡片下边缘 */
    left: 0;
    right: 0;
    /* 不再上移，与遮挡层同步对齐卡片下边缘 */
    transform: none;
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
    text-align: center;
    z-index: 6; /* 在遮挡层上方 */
    padding: 12px;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 学习模式卡片背面显示德语 */
.learning-card-back .noun-display {
    font-size: 3rem;
    font-weight: 700;
    color: white;
    text-align: center;
    margin-bottom: 15px;
}

/* 学习模式卡片背面显示中文 - 位于遮挡层上，与正面一致的位置 */
.learning-card-back .meaning-display {
    position: absolute;
    bottom: 0; /* 对齐卡片下边缘，与正面一致 */
    left: 0;
    right: 0;
    font-size: 2rem;
    font-weight: 700;
    color: #ecf0f1; /* 适配背面深色背景，使用浅色 */
    text-align: center;
    z-index: 101; /* 在遮挡层上方（遮挡层z-index为100） */
    padding: 12px;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    /* 修复Firefox中的镜像翻转问题 */
    backface-visibility: visible !important;
    transform-style: preserve-3d !important;
}

/* 背面遮挡层 - 已移除所有文字显示和背景 */
.card-back .image-overlay,
.learning-card-back .image-overlay {
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    /* 统一使用与正面相同的计算方式，考虑padding，确保显示一致 */
    height: calc((100% - var(--card-padding-learning) * 2) * var(--overlay-height-ratio)) !important;
    /* 已移除灰色背景蒙版 */
    background: transparent !important;
    border-radius: 0 0 var(--card-border-radius) var(--card-border-radius) !important;
    z-index: 100 !important; /* 提高z-index确保在最上层 */
    pointer-events: none !important;
    box-sizing: border-box !important;
    /* 确保不显示任何文字内容 */
    content: none !important;
    /* 修复Firefox中的镜像翻转问题 */
    backface-visibility: visible !important;
    transform-style: preserve-3d !important;
}

/* 确保遮挡层的伪元素也不显示任何内容 */
.card-back .image-overlay::before,
.card-back .image-overlay::after,
.learning-card-back .image-overlay::before,
.learning-card-back .image-overlay::after {
    content: none !important;
    display: none !important;
}
